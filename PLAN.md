# 暖通设计管家 V1 计划（仅计划，不写代码）

> 目标：基于需求说明书（基础版 v0）完善项目落地计划，**仅输出计划**，不涉及实现细节与代码。

## 1. 范围基线（V1 冻结边界）

**V1 明确要做：**
- 建立覆盖全过程的文件分类与模板体系
- 支持项目级选择与启用文件类别
- 以“记录与索引”为目的管理设计过程文件
- 展示项目在各阶段的文件完整性状态

**V1 明确不做：**
- 不做规范条款判断
- 不做自动计算或校核
- 不解析文件内容（DWG/Excel/PDF 等）
- 不引入流程、权限、审批等管理能力

> V1 唯一目标：把设计过程“记录对、存完整、找得到”。

---

## 2. 分阶段计划与交付物

### 阶段 0｜需求冻结与信息架构校准
**目标：** 统一边界与结构，避免越界开发。

**计划：**
- 形成 V1 做/不做的“范围矩阵”。
- 统一“一级分类/二级条目/任务项”层级的术语与结构图。
- 明确极简执行视图与模板体系的关系：来源于模板抽取，不新增结构。

**交付物：**
- V1 范围矩阵
- 信息架构草图（分类/条目/任务项层级）

---

### 阶段 1｜项目与子项创建流程落地
**目标：** 落地需求中线性流程，固化字段与顺序。

**计划：**
- 项目创建：名称、编码，创建后进入子项管理。
- 子项创建：名称、编码、类型（核岛/附属工业）、阶段选择。
- 模板预勾选：基于“子项类型 + 阶段”给出默认勾选，允许人工调整，禁止隐式修改。

**交付物：**
- 项目/子项创建流程图
- 子项字段说明与校验规则
- 模板预勾选策略清单

---

### 阶段 2｜子项主页结构与展示逻辑
**目标：** 确定主页布局、进度展示、导航与内容区行为。

**计划：**
- 顶部固定信息区（项目/子项名称+编码）。
- 完成度概览：按一级分类统计当前阶段完成度。
- 左侧树形导航（默认折叠无记录分类），右侧内容与说明区联动。
- 固定辅助入口：项目设计情况/规范条文/设计常见问题。

**交付物：**
- 子项主页布局草图（分区与交互）
- 进度计算口径说明（当前阶段/启用分类）

---

### 阶段 3｜极简执行视图（核心前台）
**目标：** 满足“3–5 条执行项”的强约束设计。

**计划：**
- 条目数量 ≤ 5；仅关注当前阶段必须完成事项。
- 条目优先级：多专业接口 → 安全/风险 → 阶段成果输出。
- 制氯站与核岛厂房按样板条目固化，其他类型按通用规则抽取。
- 交互：可直接勾选完成并快速跳转，不弹确认、不强制说明。

**交付物：**
- 极简执行视图条目映射表（按项目类型/阶段）
- 极简视图交互规则说明

---

### 阶段 4｜阶段切换与历史阶段展示
**目标：** 保证阶段推进可追溯，历史可见不干扰当前。

**计划：**
- 仅支持 方案/初设/施工图 三阶段，单向递进，不回退。
- 阶段切换需显式操作与提示；不因文件操作自动切换。
- 历史阶段文件只读可见，默认仅展示当前阶段。

**交付物：**
- 阶段切换流程图
- 历史阶段展示规范（只读/视觉区分）

---

### 阶段 5｜完成度与任务勾选规则
**目标：** 统一完成度统计口径与任务项来源。

**计划：**
- 完成度按一级分类统计：M/N × 100%。
- 完成状态仅由人工勾选决定，不基于文件数量或名称。
- 阶段切换后默认不继承完成状态。

**交付物：**
- 完成度计算说明
- 任务勾选行为规范

---

## 3. 风险与控制点

- **需求越界风险：** 任何自动判断、自动校核、自动解析文件内容均为 V1 禁止项。
- **极简视图失控：** 必须来自模板抽取，不新增结构；条目数量严格 ≤ 5。
- **阶段混淆：** 禁止隐式切换，禁止历史成果自动继承到当前阶段。

---

## 4. 成功标准（V1）

- 项目/子项创建流程完整且线性闭环。
- 子项主页能清晰展示分类完成度与文件记录状态。
- 极简执行视图满足 3–5 条“最重要事项”的强约束。
- 阶段切换与历史查看规则清晰可追溯。
